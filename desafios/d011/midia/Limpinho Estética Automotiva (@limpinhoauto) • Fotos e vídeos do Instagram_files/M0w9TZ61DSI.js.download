;/*FB_PKG_DELIM*/

__d("MAWSecureComposerText",["Lexical","LexicalText","MAWJids","MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.read(function(){var a=d("Lexical").$getRoot().getFirstChild();return a instanceof d("Lexical").ElementNode?a.getChildren().reduce(function(a,b){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(b)){var c=b.getEntity();return a+("@"+d("MAWJids").toUserJid(c.id))}return a+b.getTextContent()},""):d("LexicalText").$rootTextContent()})}g.getTextFromEditorState=a}),98);
__d("WAAPI",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";b=1;function a(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("WABridge").getBridge().sendAndReceive("backend","waapi",{type:a,args:c})}}g.version=b;g.makeBridgedApi=a}),98);
__d("WABridgedAPI",["WAAPI"],(function(a,b,c,d,e,f,g){"use strict";a={queryGroups:d("WAAPI").makeBridgedApi("queryGroups"),preEstablishSession:d("WAAPI").makeBridgedApi("preEstablishSession"),getDevices:d("WAAPI").makeBridgedApi("getDevices")};b=a;g["default"]=b}),98);
__d("MAWSecureTypingState",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MAWBridgeFireAndForget","MAWMiActOnActThreadReady","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","ReQLSuspense","WABridgedAPI","WAChatState","WAJids","asyncToGeneratorRuntime","gkx","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if(!(j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(15)))return(i||(i=b("Promise"))).resolve(!0);f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(e).filter(function(a){return!(j||(j=d("I64"))).equal(a.contactId,g)})));if(f==null)return!1;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(f.contactId)));return e==null?!1:(j||(j=d("I64"))).equal(e.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))});return m.apply(this,arguments)}var n=[];function a(a,e,g){var m=(h||(h=c("useReStore")))(),o=d("MWPActor.react").useActor(),p=(j||(j=d("I64"))).to_string(e),q=c("MessengerWebUXLogger").useInteractionLogger(),r=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(m.table("participants"),["contactId"]).getKeyRange(e).map(function(a){return d("WAJids").toMsgrUserJid((j||(j=d("I64"))).to_string(a.contactId))})},[m,e],f.id+":87");return d("Int64Hooks").useCallbackInt64(function(f){(j||(j=d("I64"))).ge(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(g)&&(c("gkx")("24137")&&d("LSMessagingThreadTypeUtil").isGroup(g)&&!n.includes(p)&&c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(m.tables,e,"MAWSecureTypingState",function(a,b,e){n.push(p);return c("WABridgedAPI").preEstablishSession({groupJid:d("WAJids").toGroupJid(e),userJids:r}).then(function(){})})),c("promiseDone")(l(m,e,g,o).then(function(a){return!a?(i||(i=b("Promise"))).resolve():d("MAWMiActOnActThreadReady").onActThreadReady(m.tables,e,"MAWSecureTypingState",function(a,c,h){q==null?void 0:q({eventName:"send_typing_indicators",threadKey:e,threadType:g});d("MAWBridgeFireAndForget").fireAndForget("backend","sendChatStateFromComposer",{state:f?d("WAChatState").TYPING:d("WAChatState").IDLE,threadId:c});return(i||(i=b("Promise"))).resolve()})})))},[m,r,a,e,g,o,p,q])}g.useOnTypingStateChanged=a}),98);
__d("MAWSupportedFileTypes",[],(function(a,b,c,d,e,f){"use strict";a=["*/*"];f.supportedFileTypes=a}),66);